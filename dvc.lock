schema: '2.0'
stages:
  load_data:
    cmd: python src/load_data.py --config=params.yaml
    deps:
    - path: data_given/Fake.csv
      md5: 809e6e518f628f0ec93991ad83bdc5b2
      size: 62789876
    - path: data_given/True.csv
      md5: b74a82728c3f122b77b81ada92ee7822
      size: 53582940
    - path: src/get_data.py
      md5: 1689e15c1eac996e222061fd176f37ab
      size: 1129
    - path: src/load_data.py
      md5: d06b8d3bfd5caa2afb7f86d240632469
      size: 1052
    params:
      params.yaml:
        load_data.sample_frac: 0.1
    outs:
    - path: data/raw/news.csv
      md5: ced797d385ec7f0232e95a6956d42a58
      size: 11082720
  preprocess_data:
    cmd: python src/preprocess_data.py --config=params.yaml
    deps:
    - path: data/raw/news.csv
      md5: ced797d385ec7f0232e95a6956d42a58
      size: 11082720
    - path: src/preprocess_data.py
      md5: dba4e06621078ad73b049519a2c7ed98
      size: 1719
    - path: src/utils
      md5: c740f0a664ac26877dc194d1db10ce09.dir
      size: 11755
      nfiles: 3
    outs:
    - path: data/processed/clean_news.csv
      md5: 8a675a6738b9bcccf3d621ae10b5d58c
      size: 7820196
  split_data:
    cmd: python src/split_data.py --config=params.yaml
    deps:
    - path: data/processed/clean_news.csv
      md5: 8a675a6738b9bcccf3d621ae10b5d58c
      size: 7820196
    - path: src/split_data.py
      md5: 2b428bf6697cdeaa06d74c33a74e3c3d
      size: 1475
    - path: src/utils
      md5: c740f0a664ac26877dc194d1db10ce09.dir
      size: 11755
      nfiles: 3
    params:
      params.yaml:
        split_data.test_size: 0.5
    outs:
    - path: data/processed/test_news.csv
      md5: 2afbd315f748af0191f10f0f578cbc25
      size: 4039514
    - path: data/processed/train_news.csv
      md5: a672c922cedc7a1115e04ddb634eb8cf
      size: 3801020
  featurize:
    cmd: python src/featurize.py --config=params.yaml
    deps:
    - path: data/processed/test_news.csv
      md5: 2afbd315f748af0191f10f0f578cbc25
      size: 4039514
    - path: data/processed/train_news.csv
      md5: a672c922cedc7a1115e04ddb634eb8cf
      size: 3801020
    - path: src/featurize.py
      md5: 2881251271b14327b04e2addec3006d2
      size: 2160
    - path: src/utils
      md5: c740f0a664ac26877dc194d1db10ce09.dir
      size: 11755
      nfiles: 3
    params:
      params.yaml:
        featurize.max_features: 250
        featurize.n_grams: 2
    outs:
    - path: data/featurized/featurized_test_news.pkl
      md5: 223af389183895fe9cc237fd07f3fc9c
      size: 1372984
    - path: data/featurized/featurized_train_news.pkl
      md5: 5eb612af72b574e1cf052d9abfb8893c
      size: 1345092
  train:
    cmd: python src/train.py --config=params.yaml
    deps:
    - path: data/featurized/featurized_train_news.pkl
      md5: 5eb612af72b574e1cf052d9abfb8893c
      size: 1345092
    - path: src/train.py
      md5: 24f5a4fd03af957e05c00ae298d25aad
      size: 1188
    - path: src/utils
      md5: c740f0a664ac26877dc194d1db10ce09.dir
      size: 11755
      nfiles: 3
    params:
      params.yaml:
        train.min_split: 12
        train.n_est: 500
        train.n_jobs: 2
    outs:
    - path: saved_models/model.pkl
      md5: 93f2d7f8e0e7adc9f06445c1d6a8f698
      size: 5498184
  evaluate:
    cmd: python src/evaluate.py --config=params.yaml
    deps:
    - path: saved_models/model.pkl
      md5: 93f2d7f8e0e7adc9f06445c1d6a8f698
      size: 5498184
    - path: src/evaluate.py
      md5: da896d9bfb5f51c71541bfffc25caeb3
      size: 1165
    - path: src/utils
      md5: c740f0a664ac26877dc194d1db10ce09.dir
      size: 11755
      nfiles: 3
    outs:
    - path: report/scores.json
      md5: e5f13bb7a64c473ed126501affffee4c
      size: 40
