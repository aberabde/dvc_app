schema: '2.0'
stages:
  load_data:
    cmd: python src/load_data.py --config=params.yaml
    deps:
    - path: data_given/Fake.csv
      md5: 809e6e518f628f0ec93991ad83bdc5b2
      size: 62789876
    - path: data_given/True.csv
      md5: b74a82728c3f122b77b81ada92ee7822
      size: 53582940
    - path: src/get_data.py
      md5: 3f8d5526ed70c7b84d0afb871517c390
      size: 1165
    - path: src/load_data.py
      md5: a7cb3c0d39dec88f53a545424dece46f
      size: 1058
    params:
      params.yaml:
        base.random_state: 42
        load_data.sample_frac: 0.01
    outs:
    - path: data/raw/news.csv
      md5: 7b667aca1238c3752edcfabdbfa392ba
      size: 1114143
  preprocess_data:
    cmd: python src/preprocess_data.py --config=params.yaml
    deps:
    - path: data/raw/news.csv
      md5: 7b667aca1238c3752edcfabdbfa392ba
      size: 1114143
    - path: src/preprocess_data.py
      md5: 4d3b851f48da57b464fe211ed979a723
      size: 1702
    - path: src/utils
      md5: f42875fcd0a3debdb46cc42daf84aad7.dir
      size: 13013
      nfiles: 3
    outs:
    - path: data/processed/clean_news.csv
      md5: eec9212a6f5505dec6af4f953d8fdcb6
      size: 812085
  split_data:
    cmd: python src/split_data.py --config=params.yaml
    deps:
    - path: data/processed/clean_news.csv
      md5: eec9212a6f5505dec6af4f953d8fdcb6
      size: 812085
    - path: src/split_data.py
      md5: 80964b48b180e2f47fa20a083b547640
      size: 1622
    - path: src/utils
      md5: f42875fcd0a3debdb46cc42daf84aad7.dir
      size: 13013
      nfiles: 3
    params:
      params.yaml:
        base.random_state: 42
        split_data.test_size: 0.3
    outs:
    - path: data/processed/test_news.csv
      md5: 433cbd872e5b53a72e55b9d98b1b9c25
      size: 254775
    - path: data/processed/train_news.csv
      md5: bac963e127d2cf5523f17afd261159dd
      size: 557341
  featurize:
    cmd: python src/featurize.py --config=params.yaml
    deps:
    - path: data/processed/test_news.csv
      md5: 433cbd872e5b53a72e55b9d98b1b9c25
      size: 254775
    - path: data/processed/train_news.csv
      md5: bac963e127d2cf5523f17afd261159dd
      size: 557341
    - path: src/featurize.py
      md5: 8d4c4da3070d3d39d8c025f815453c21
      size: 2495
    - path: src/utils
      md5: f42875fcd0a3debdb46cc42daf84aad7.dir
      size: 13013
      nfiles: 3
    params:
      params.yaml:
        base.random_state: 42
        featurize.max_features: 250
        featurize.n_grams: 1
    outs:
    - path: data/featurized/featurized_test_news.pkl
      md5: e9a6cf78780f163fdebfeb1b70c41bf6
      size: 78982
    - path: data/featurized/featurized_train_news.pkl
      md5: 5be8aee4474e3bdc397c97b9699617bc
      size: 187628
    - path: saved_models/bag_of_words.pkl
      md5: e13a0b1f71a1d5bdb8a3da4944fef32d
      size: 180088
    - path: saved_models/tfidf.pkl
      md5: cc6c07f49bd004cd273e4a52827ebe9b
      size: 4653
  train:
    cmd: python src/train.py --config=params.yaml
    deps:
    - path: data/featurized/featurized_train_news.pkl
      md5: 5be8aee4474e3bdc397c97b9699617bc
      size: 187628
    - path: src/train.py
      md5: 24f5a4fd03af957e05c00ae298d25aad
      size: 1188
    - path: src/utils
      md5: f42875fcd0a3debdb46cc42daf84aad7.dir
      size: 13013
      nfiles: 3
    params:
      params.yaml:
        base.random_state: 42
        train.min_split: 12
        train.n_est: 5000
        train.n_jobs: 2
    outs:
    - path: saved_models/model.pkl
      md5: 16ef19a417240a59288463e4c0b1063c
      size: 15402902
  evaluate:
    cmd: python src/evaluate.py --config=params.yaml
    deps:
    - path: saved_models/model.pkl
      md5: 16ef19a417240a59288463e4c0b1063c
      size: 15402902
    - path: src/evaluate.py
      md5: af385123fbce8e4c243e4a44fb1211b6
      size: 1249
    - path: src/utils
      md5: f42875fcd0a3debdb46cc42daf84aad7.dir
      size: 13013
      nfiles: 3
    outs:
    - path: report/scores.json
      md5: ca663edb18da9b93145da2b41bd62ad5
      size: 76
